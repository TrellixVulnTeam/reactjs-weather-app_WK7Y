{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\reactapp\\\\weather\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.scss';\nimport './index.css';\nimport SearchBar from './components/search-bar';\nimport CurrentWeather from './components/current-weather';\nimport Forecast from './components/forecast-weather';\nimport ErrorWeather from './components/error-weather';\nimport { getCurrentWeather, getForecast } from './apis/open-weather.api'; //functional component\n//returns template\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: 'Portimão',\n      selectValue: 'metric',\n      temp: '',\n      mintemp: '',\n      maxtemp: '',\n      feelsLike: '',\n      description: '',\n      icon: '',\n      city: '',\n      cod: '',\n      dailyForecast: []\n    };\n  }\n\n  componentDidMount() {\n    this.onFormSubmit();\n  }\n\n  onInputChange(e) {\n    this.setState({\n      location: e.target.value\n    });\n  }\n\n  onHandleChange(e) {\n    this.setState({\n      selectValue: e.target.value\n    });\n  }\n\n  async onFormSubmit() {\n    const weatherRes = await getCurrentWeather(this.state.location, this.state.selectValue);\n    this.setState({\n      cod: weatherRes\n    });\n\n    if (this.state.cod !== undefined) {\n      console.log('weather res', weatherRes);\n      const lat = weatherRes.data.coord.lat;\n      const lon = weatherRes.data.coord.lon;\n      const forecastRes = await getForecast(lat, lon, this.state.selectValue);\n      this.setState({\n        city: weatherRes.data.name,\n        temp: weatherRes.data.main.temp,\n        mintemp: weatherRes.data.main.temp_min,\n        maxtemp: weatherRes.data.main.temp_max,\n        feelsLike: weatherRes.data.main.feels_like,\n        description: weatherRes.data.weather[0].main,\n        icon: weatherRes.data.weather[0].icon,\n        dailyForecast: forecastRes.data.daily\n      });\n    }\n  }\n\n  render() {\n    let current_weather;\n    let forecast_weather;\n    let error;\n\n    if (this.state.cod !== '404') {\n      current_weather = /*#__PURE__*/_jsxDEV(CurrentWeather, {\n        currentTemperature: this.state.temp,\n        feelsLike: this.state.feelsLike,\n        description: this.state.description,\n        icon: this.state.icon,\n        city: this.state.city\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this);\n      forecast_weather = /*#__PURE__*/_jsxDEV(Forecast, {\n        forecast: this.state.dailyForecast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }, this);\n    } else {\n      error = /*#__PURE__*/_jsxDEV(ErrorWeather, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 16\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"App-header mx-auto min-h-screen\",\n        children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n          location: this.state.location,\n          selectValue: this.state.selectValue,\n          inputChange: e => this.onInputChange(e),\n          handleChange: e => this.onHandleChange(e),\n          formsubmitted: () => this.onFormSubmit()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), error, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap justify-center\",\n          children: current_weather\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap justify-center\",\n          children: forecast_weather\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/xampp/htdocs/reactapp/weather/src/App.js"],"names":["React","SearchBar","CurrentWeather","Forecast","ErrorWeather","getCurrentWeather","getForecast","App","Component","constructor","props","state","location","selectValue","temp","mintemp","maxtemp","feelsLike","description","icon","city","cod","dailyForecast","componentDidMount","onFormSubmit","onInputChange","e","setState","target","value","onHandleChange","weatherRes","undefined","console","log","lat","data","coord","lon","forecastRes","name","main","temp_min","temp_max","feels_like","weather","daily","render","current_weather","forecast_weather","error"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport './App.scss';\nimport './index.css';\n\nimport SearchBar from './components/search-bar';\nimport CurrentWeather from './components/current-weather';\nimport Forecast from './components/forecast-weather';\nimport ErrorWeather from './components/error-weather';\n\nimport {getCurrentWeather, getForecast} from './apis/open-weather.api';\n\n//functional component\n//returns template\nclass App extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state = {\n        location: 'Portimão',\n        selectValue: 'metric',\n        temp: '',\n        mintemp: '',\n        maxtemp: '',\n        feelsLike: '',\n        description: '',\n        icon: '',\n        city: '',\n        cod: '',\n        dailyForecast: []\n    };\n    \n    \n  }\n  componentDidMount(){\n    this.onFormSubmit();\n  }\n\n  onInputChange(e){\n      this.setState({\n          location: e.target.value,\n          \n      });\n  }\n  onHandleChange(e){\n    this.setState({\n      selectValue : e.target.value\n    });\n  }\n  async onFormSubmit(){\n    \n    const weatherRes = await getCurrentWeather(this.state.location, this.state.selectValue);\n    this.setState({\n      cod : weatherRes\n    })\n    if(this.state.cod !== undefined){\n\n    \n    console.log('weather res', weatherRes);\n      const lat = weatherRes.data.coord.lat;\n      const lon = weatherRes.data.coord.lon;\n      const forecastRes = await getForecast(lat,lon, this.state.selectValue);\n      \n      this.setState({\n            city :  weatherRes.data.name,\n            temp: weatherRes.data.main.temp,\n            mintemp: weatherRes.data.main.temp_min,\n            maxtemp: weatherRes.data.main.temp_max,\n            feelsLike: weatherRes.data.main.feels_like,\n            description: weatherRes.data.weather[0].main,\n            icon: weatherRes.data.weather[0].icon,\n            dailyForecast: forecastRes.data.daily\n      });\n    }\n    \n  }\n\n  render(){\n\n    let current_weather;\n    let forecast_weather;\n    let error;\n    if(this.state.cod !== '404'){\n      current_weather = (\n        <CurrentWeather \n                currentTemperature={this.state.temp}\n                feelsLike={this.state.feelsLike}\n                description={this.state.description}\n                icon={this.state.icon}     \n                city={this.state.city} \n          />);\n      forecast_weather=(<Forecast forecast={this.state.dailyForecast}/>);\n    }else{\n      error = (<ErrorWeather />);\n    }\n\n\n    return (\n      <div className=\"App\">\n        \n        <header className=\"App-header mx-auto min-h-screen\">\n          \n          <SearchBar \n                location={this.state.location} \n                selectValue={this.state.selectValue}\n                inputChange= {e => this.onInputChange(e)}\n                handleChange= {e => this.onHandleChange(e)}\n                formsubmitted={() => this.onFormSubmit()}\n          />\n          {error}\n          <div className=\"flex flex-wrap justify-center\">\n            {current_weather}\n            \n          </div>\n          <div className=\"flex flex-wrap justify-center\">\n            {forecast_weather}  \n          </div>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}